{"ast":null,"code":"import { map, shareReplay } from \"rxjs/operators\";\nimport { environment } from \"../../environments/environment\";\nconst CACHE_SIZE = 1;\nexport class BaseHttpService {\n  constructor(http, path) {\n    this.http = http;\n    this.path = path;\n    this.apiServerUrl = environment.apiBaseUrl;\n  }\n  getData() {\n    if (!this.cache$) {\n      this.cache$ = this.requestData().pipe(shareReplay(CACHE_SIZE));\n    }\n    return this.cache$;\n  }\n  requestData() {\n    return this.http.get(this.apiServerUrl + this.path).pipe(map(response => response));\n  }\n  findAll() {\n    return this.http.get(this.apiServerUrl + this.path);\n  }\n  add(param) {\n    return this.http.put(this.apiServerUrl + this.path, param);\n  }\n  update(param) {\n    return this.http.post(this.apiServerUrl + this.path, param);\n  }\n}","map":{"version":3,"names":["map","shareReplay","environment","CACHE_SIZE","BaseHttpService","constructor","http","path","apiServerUrl","apiBaseUrl","getData","cache$","requestData","pipe","get","response","findAll","add","param","put","update","post"],"sources":["D:\\thing\\web proj\\hardwareEcomExercise\\product\\src\\app\\service\\base-http.service.ts"],"sourcesContent":["import {HttpClient} from \"@angular/common/http\";\nimport { Observable } from 'rxjs';\nimport { map, shareReplay } from \"rxjs/operators\";\nimport { environment } from \"../../environments/environment\";\n\nconst CACHE_SIZE = 1;\nexport class BaseHttpService {\n  protected cache$!: Observable<any>; \n    protected apiServerUrl: string;\n  protected path:string;\n  \n  constructor(protected http: HttpClient,\n    path: string) {\n      this.path = path; \n      this.apiServerUrl = environment.apiBaseUrl;\n     }\n\n     public getData(): Observable<any> {\n\n      if(!this.cache$){\n          this.cache$ =  this.requestData().pipe(\n          shareReplay(CACHE_SIZE)\n            );\n        } \n        return this.cache$;   \n      }\n        \n   protected requestData(): Observable<any>{\n      return this.http.get(this.apiServerUrl + this.path ).pipe(\n        map(response => response)\n      )\n    } \n\n    public findAll(): Observable<any> {\n      return this.http.get<any>(this.apiServerUrl + this.path );\n    }    \n    public add(param:any): Observable<any> {\n      return this.http.put<any>(this.apiServerUrl+ this.path, param)\n    }\n      \n    public update(param:any): Observable<any> {\n      return this.http.post<any>(this.apiServerUrl + this.path, param)\n    }\n}\n"],"mappings":"AAEA,SAASA,GAAG,EAAEC,WAAW,QAAQ,gBAAgB;AACjD,SAASC,WAAW,QAAQ,gCAAgC;AAE5D,MAAMC,UAAU,GAAG,CAAC;AACpB,OAAM,MAAOC,eAAe;EAK1BC,YAAsBC,IAAgB,EACpCC,IAAY;IADQ,KAAAD,IAAI,GAAJA,IAAI;IAEtB,IAAI,CAACC,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACC,YAAY,GAAGN,WAAW,CAACO,UAAU;EAC3C;EAEOC,OAAOA,CAAA;IAEb,IAAG,CAAC,IAAI,CAACC,MAAM,EAAC;MACZ,IAAI,CAACA,MAAM,GAAI,IAAI,CAACC,WAAW,EAAE,CAACC,IAAI,CACtCZ,WAAW,CAACE,UAAU,CAAC,CACpB;;IAEL,OAAO,IAAI,CAACQ,MAAM;EACpB;EAEOC,WAAWA,CAAA;IAClB,OAAO,IAAI,CAACN,IAAI,CAACQ,GAAG,CAAC,IAAI,CAACN,YAAY,GAAG,IAAI,CAACD,IAAI,CAAE,CAACM,IAAI,CACvDb,GAAG,CAACe,QAAQ,IAAIA,QAAQ,CAAC,CAC1B;EACH;EAEOC,OAAOA,CAAA;IACZ,OAAO,IAAI,CAACV,IAAI,CAACQ,GAAG,CAAM,IAAI,CAACN,YAAY,GAAG,IAAI,CAACD,IAAI,CAAE;EAC3D;EACOU,GAAGA,CAACC,KAAS;IAClB,OAAO,IAAI,CAACZ,IAAI,CAACa,GAAG,CAAM,IAAI,CAACX,YAAY,GAAE,IAAI,CAACD,IAAI,EAAEW,KAAK,CAAC;EAChE;EAEOE,MAAMA,CAACF,KAAS;IACrB,OAAO,IAAI,CAACZ,IAAI,CAACe,IAAI,CAAM,IAAI,CAACb,YAAY,GAAG,IAAI,CAACD,IAAI,EAAEW,KAAK,CAAC;EAClE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}